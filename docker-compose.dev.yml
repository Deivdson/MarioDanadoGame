version: '3.8'

# Docker Compose para modo desenvolvimento
# Uso: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up

services:
  jelani-game:
    # Hot reload - arquivos são montados diretamente
    volumes:
      - ./jelani_bros_game.html:/usr/share/nginx/html/jelani_bros_game.html:ro
      - ./jelani_bros_fase2.html:/usr/share/nginx/html/jelani_bros_fase2.html:ro
      - ./script.js:/usr/share/nginx/html/script.js:ro
      - ./style.css:/usr/share/nginx/html/style.css:ro
      - ./assets:/usr/share/nginx/html/assets:ro
    
    # Habilita debug do nginx
    command: ["nginx", "-g", "daemon off;", "-e", "/dev/stderr"]
    
    # Variáveis de ambiente para debug
    environment:
      - NGINX_DEBUG=1
      - DEV_MODE=true
